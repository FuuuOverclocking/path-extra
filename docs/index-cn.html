<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>path-nice - v2.0.6</title><meta name="description" content="Documentation for path-nice - v2.0.6"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">path-nice - v2.0.6</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>path-nice - v2.0.6</h2></div>
<div class="tsd-panel tsd-typography">
<a href="#path-nice" id="path-nice" style="color: inherit; text-decoration: none;">
  <h1>path-nice</h1>
</a>
<p><a href="https://www.npmjs.com/package/path-nice"><img src="https://img.shields.io/npm/v/path-nice" alt="npm version"></a> <img src="https://img.shields.io/badge/license-MIT-green.svg" alt="license-MIT"> <img src="https://img.shields.io/bundlephobia/minzip/path-nice" alt="npm-bundle-size"> <img src="https://raw.githubusercontent.com/FuuuOverclocking/path-nice/main/docs/images/coverage.svg" alt="coverage"></p>
<p><a href="index.html">English</a> | 简体中文</p>
<p><code>path-nice</code> - 优雅又趁手的 <code>path</code>, <code>fs</code> 和 <code>glob</code> 的替代品</p>
<p>如果有时你对 Node.js 的原装 <code>path</code> 与 <code>fs</code> 感到不那么 nice, 那么只需</p>
<img src="https://raw.githubusercontent.com/FuuuOverclocking/path-nice/main/docs/images/add-nice-here-cn.png" width="500" />

<p>现有代码仍然正常工作, 而 <code>path</code> 却已进化.</p>

<a href="#why-this-lib" id="why-this-lib" style="color: inherit; text-decoration: none;">
  <h2>Why this lib?</h2>
</a>

<a href="#一个顶俩-还能大大缩短代码" id="一个顶俩-还能大大缩短代码" style="color: inherit; text-decoration: none;">
  <h3>一个顶俩, 还能大大缩短代码</h3>
</a>
<p>原始版:</p>
<pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">path</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;path&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">fs</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;fs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">app</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-2">promises</span><span class="hl-1">.</span><span class="hl-6">realpath</span><span class="hl-1">(</span><span class="hl-3">&#39;./app&#39;</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">publicDir</span><span class="hl-1"> = </span><span class="hl-2">path</span><span class="hl-1">.</span><span class="hl-6">join</span><span class="hl-1">(</span><span class="hl-2">app</span><span class="hl-1">, </span><span class="hl-3">&#39;public&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">fs</span><span class="hl-1">.</span><span class="hl-2">promises</span><span class="hl-1">.</span><span class="hl-6">writeFile</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-2">path</span><span class="hl-1">.</span><span class="hl-6">join</span><span class="hl-1">(</span><span class="hl-2">publicDir</span><span class="hl-1">, </span><span class="hl-3">&#39;manifest.json&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-7">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">({ </span><span class="hl-2">name:</span><span class="hl-1"> </span><span class="hl-3">&#39;App&#39;</span><span class="hl-1"> }),</span><br/><span class="hl-1">);</span>
</code></pre>
<p>nice 版:</p>
<pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">path</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;path-nice&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">app</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">path</span><span class="hl-1">(</span><span class="hl-3">&#39;./app&#39;</span><span class="hl-1">).</span><span class="hl-6">realpath</span><span class="hl-1">();</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">publicDir</span><span class="hl-1"> = </span><span class="hl-2">app</span><span class="hl-1">.</span><span class="hl-6">join</span><span class="hl-1">(</span><span class="hl-3">&#39;public&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">publicDir</span><span class="hl-1">.</span><span class="hl-6">join</span><span class="hl-1">(</span><span class="hl-3">&#39;manifest.json&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">               .</span><span class="hl-6">writeJSON</span><span class="hl-1">({ </span><span class="hl-2">name:</span><span class="hl-1"> </span><span class="hl-3">&#39;App&#39;</span><span class="hl-1"> });</span>
</code></pre>
<p>特别是当你需要从其他模块导入一些预定义的路径时, <code>path-nice</code> 能带来加倍便利: 不必再额外导入 <code>path</code> 和
<code>fs</code> 模块了, 只需导入你需要的路径, 然后打一个点号, 所需方法全部呈现.</p>

<a href="#注释翔实-文档不用翻-例子都在这" id="注释翔实-文档不用翻-例子都在这" style="color: inherit; text-decoration: none;">
  <h3>注释翔实, 文档不用翻, 例子都在这</h3>
</a>
<p><img src="https://raw.githubusercontent.com/FuuuOverclocking/path-nice/main/docs/images/jsdoc.png" alt=""></p>

<a href="#可以绑定其他-filesystem-的实现使用-例如内存文件系统-memfs" id="可以绑定其他-filesystem-的实现使用-例如内存文件系统-memfs" style="color: inherit; text-decoration: none;">
  <h3>可以绑定其他 filesystem 的实现使用, 例如内存文件系统 <a href="https://github.com/streamich/memfs">memfs</a></h3>
</a>
<pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">path</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;path-nice&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-2">fs</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-2">memfs</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;memfs&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">mpath</span><span class="hl-1"> = </span><span class="hl-2">path</span><br/><span class="hl-1">    .</span><span class="hl-2">posix</span><span class="hl-1">          </span><span class="hl-8">// 使用 POSIX 风格的路径 (memfs 仅支持该风格)</span><br/><span class="hl-1">    .</span><span class="hl-6">bindFS</span><span class="hl-1">(</span><span class="hl-2">memfs</span><span class="hl-1">); </span><span class="hl-8">// 绑定文件系统</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">mpath</span><span class="hl-1">(</span><span class="hl-3">&#39;/index.ts&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-6">writeFile</span><span class="hl-1">(</span><span class="hl-3">&#39;export default 42;&#39;</span><span class="hl-1">);</span>
</code></pre>

<a href="#元编程加持-路径是啥-编译时就知道" id="元编程加持-路径是啥-编译时就知道" style="color: inherit; text-decoration: none;">
  <h3>元编程加持, 路径是啥, 编译时就知道</h3>
</a>
<p>(将在 2.1.0 版本到来)</p>
<p><img src="https://raw.githubusercontent.com/FuuuOverclocking/path-nice/main/docs/images/meta-programming.png" alt=""></p>

<a href="#安装" id="安装" style="color: inherit; text-decoration: none;">
  <h2>安装</h2>
</a>
<pre><code class="language-shell"><span class="hl-1">npm install path-nice</span>
</code></pre>
<p>或者</p>
<pre><code class="language-shell"><span class="hl-1">yarn add path-nice</span>
</code></pre>
<ul>
<li>需要: Node.js &gt;= v12.0.0</li>
<li>提供: CommonJS, ESModule 和 TypeScript typings</li>
<li>ESModule 版本可以<a href="https://nodejs.org/api/esm.html#modules-ecmascript-modules">直接在 Node 中使用</a>.</li>
</ul>

<a href="#文档" id="文档" style="color: inherit; text-decoration: none;">
  <h2>文档</h2>
</a>
<p>请参见 <a href="https://fuuuoverclocking.github.io/path-nice/functions/default-1.html">API Reference</a>.</p>

<a href="#3-分钟教程" id="3-分钟教程" style="color: inherit; text-decoration: none;">
  <h2>3 分钟教程</h2>
</a>
<p>在 <code>path</code> 后添加一对 <code>()</code> 以进入 &quot;nice&quot; 模式.</p>
<pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">path</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;path-nice&#39;</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">dir</span><span class="hl-1"> = </span><span class="hl-6">path</span><span class="hl-1">(</span><span class="hl-3">&#39;./src&#39;</span><span class="hl-1">)</span>
</code></pre>
<p><code>dir</code> 是 <code>class PathNice</code> 的实例:</p>
<pre><code class="language-ts"><span class="hl-2">dir</span><span class="hl-1"> </span><span class="hl-4">instanceof</span><span class="hl-1"> </span><span class="hl-7">path</span><span class="hl-1">.</span><span class="hl-7">PathNice</span><span class="hl-1">    </span><span class="hl-8">// true</span>
</code></pre>
<p>一个 <code>PathNice</code> 实例是对 raw path string 的包装, 以便快捷地生成其他路径, 或操作文件:</p>
<pre><code class="language-ts"><span class="hl-2">dir</span><span class="hl-1">.</span><span class="hl-2">raw</span><span class="hl-1"> === </span><span class="hl-3">&#39;./src&#39;</span><span class="hl-1">             </span><span class="hl-8">// true</span>
</code></pre>
<p>每个 <code>PathNice</code> 实例都是不可变对象, 所有属性是只读的:</p>
<pre><code class="language-ts"><span class="hl-7">Object</span><span class="hl-1">.</span><span class="hl-6">isFrozen</span><span class="hl-1">(</span><span class="hl-2">dir</span><span class="hl-1">)            </span><span class="hl-8">// true</span>
</code></pre>

<a href="#路径相关方法" id="路径相关方法" style="color: inherit; text-decoration: none;">
  <h3>路径相关方法</h3>
</a>
<p align="center"><img src="docs/images/path-parts.png" width="500" /></p>

<pre><code class="language-ts"><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-2">f</span><span class="hl-1"> = </span><span class="hl-6">path</span><span class="hl-1">(</span><span class="hl-3">&#39;path-nice/src&#39;</span><span class="hl-1">)</span><br/><br/><span class="hl-2">f</span><span class="hl-1"> = </span><span class="hl-2">f</span><span class="hl-1">.</span><span class="hl-6">join</span><span class="hl-1">(</span><span class="hl-3">&#39;index.ts&#39;</span><span class="hl-1">)           </span><span class="hl-8">// path(&#39;path-nice/src/index.ts&#39;)</span><br/><br/><span class="hl-8">// 以下 4 个方法: 0 个参数 = get, 1 个参数 = set</span><br/><br/><span class="hl-2">f</span><span class="hl-1">.</span><span class="hl-6">dirname</span><span class="hl-1">()                     </span><span class="hl-8">// path(&#39;path-nice/src&#39;)</span><br/><span class="hl-2">f</span><span class="hl-1">.</span><span class="hl-6">dirname</span><span class="hl-1">(</span><span class="hl-3">&#39;another-dir&#39;</span><span class="hl-1">)        </span><span class="hl-8">// path(&#39;another-dir/index.ts&#39;)</span><br/><br/><span class="hl-2">f</span><span class="hl-1">.</span><span class="hl-6">filename</span><span class="hl-1">()                    </span><span class="hl-8">// &#39;index.ts&#39;</span><br/><span class="hl-2">f</span><span class="hl-1">.</span><span class="hl-6">filename</span><span class="hl-1">(</span><span class="hl-3">&#39;types.ts&#39;</span><span class="hl-1">)          </span><span class="hl-8">// path(&#39;path-nice/src/types.ts&#39;)</span><br/><br/><span class="hl-2">f</span><span class="hl-1">.</span><span class="hl-6">ext</span><span class="hl-1">()                         </span><span class="hl-8">// &#39;.ts&#39;</span><br/><span class="hl-2">f</span><span class="hl-1">.</span><span class="hl-6">ext</span><span class="hl-1">(</span><span class="hl-3">&#39;.js&#39;</span><span class="hl-1">)                    </span><span class="hl-8">// path(&#39;path-nice/src/index.js&#39;)</span><br/><br/><span class="hl-2">f</span><span class="hl-1">.</span><span class="hl-6">separaotr</span><span class="hl-1">()                   </span><span class="hl-8">// &#39;/&#39;</span><br/><span class="hl-2">f</span><span class="hl-1">.</span><span class="hl-6">separaotr</span><span class="hl-1">(</span><span class="hl-3">&#39;</span><span class="hl-9">\\</span><span class="hl-3">&#39;</span><span class="hl-1">)               </span><span class="hl-8">// path(&#39;path-nice\\src\\index.ts&#39;)</span><br/><br/><span class="hl-8">// .parent 是 .dirname() 的别名, 可获取父目录路径</span><br/><span class="hl-2">f</span><span class="hl-1">.</span><span class="hl-2">parent</span><span class="hl-1">.</span><span class="hl-2">raw</span><span class="hl-1"> === </span><span class="hl-2">f</span><span class="hl-1">.</span><span class="hl-6">dirname</span><span class="hl-1">().</span><span class="hl-2">raw</span><span class="hl-1"> </span><span class="hl-8">// true</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-5">f2</span><span class="hl-1"> = </span><span class="hl-2">f</span><span class="hl-1">.</span><span class="hl-2">parent</span><span class="hl-1">.</span><span class="hl-2">parent</span><span class="hl-1">.</span><span class="hl-6">join</span><span class="hl-1">(</span><span class="hl-3">&#39;package.json&#39;</span><span class="hl-1">)</span><br/><span class="hl-2">f2</span><span class="hl-1">.</span><span class="hl-2">raw</span><span class="hl-1">                          </span><span class="hl-8">// &#39;path-nice/package.json&#39;</span><br/><br/><span class="hl-2">f2</span><span class="hl-1">.</span><span class="hl-6">isAbsolute</span><span class="hl-1">()                 </span><span class="hl-8">// false</span><br/><span class="hl-2">f2</span><span class="hl-1">.</span><span class="hl-6">toAbsolute</span><span class="hl-1">()                 </span><span class="hl-8">// path(&#39;/work/path-nice/package.json&#39;), 假定 cwd 是 &#39;/work&#39;</span><br/><br/><span class="hl-8">// 使用 .realpath() 可在获取绝对路径的同时, 解析路径中可能存在的软链接</span><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">f2</span><span class="hl-1">.</span><span class="hl-6">realpath</span><span class="hl-1">()             </span><span class="hl-8">// path(&#39;/project/path-nice/package.json&#39;)</span><br/><span class="hl-1">                                </span><span class="hl-8">// 假定 cwd 是 &#39;/work&#39;, 并且 &#39;/work&#39; 指向 &#39;/project&#39;</span><br/><br/><span class="hl-2">f2</span><span class="hl-1">.</span><span class="hl-6">toRelative</span><span class="hl-1">(</span><span class="hl-3">&#39;path-nice/docs&#39;</span><span class="hl-1">) </span><span class="hl-8">// path(&#39;../package.json&#39;)</span><br/><br/><span class="hl-2">f2</span><span class="hl-1">.</span><span class="hl-6">prefixFilename</span><span class="hl-1">(</span><span class="hl-3">&#39;old.&#39;</span><span class="hl-1">)       </span><span class="hl-8">// path(&#39;path-nice/old.package.json&#39;)</span><br/><span class="hl-2">f2</span><span class="hl-1">.</span><span class="hl-6">postfixBeforeExt</span><span class="hl-1">(</span><span class="hl-3">&#39;.old&#39;</span><span class="hl-1">)     </span><span class="hl-8">// path(&#39;path-nice/package.old.json&#39;)</span><br/><span class="hl-2">f2</span><span class="hl-1">.</span><span class="hl-6">postfix</span><span class="hl-1">(</span><span class="hl-3">&#39;.old&#39;</span><span class="hl-1">)              </span><span class="hl-8">// path(&#39;path-nice/package.json.old&#39;)</span>
</code></pre>
<p>更多路径相关方法, 参见 <a href="https://fuuuoverclocking.github.io/path-nice/interfaces/PathNice.html">PathNice 文档</a>.</p>

<a href="#文件系统相关方法" id="文件系统相关方法" style="color: inherit; text-decoration: none;">
  <h3>文件系统相关方法</h3>
</a>
<p>可以注意到, <code>fs</code> 模块中的诸多函数, 例如 <code>.readFile()</code>, <code>.writeFile()</code> 等, 它们的第一个参数几乎都是 <code>path</code>.
<code>path-nice</code> 将它们改写为了 <code>class PathNice</code> 的成员方法, 将这一参数自动填写为当前路径, 使其调用起来更加方便.</p>
<p>下面大多数方法是异步方法, 返回一个 <code>Promise</code>. 在函数名加上后缀 <code>Sync</code>, 即为它们的同步版本.</p>
<p>这些方法的具体用法, 可在 <a href="https://fuuuoverclocking.github.io/path-nice/interfaces/PathNice.html">PathNice 文档</a>, 或编辑器的提示中找到.</p>

<a href="#read-and-write" id="read-and-write" style="color: inherit; text-decoration: none;">
  <h4>Read and write</h4>
</a>
<ul>
<li><p><code>readFile</code></p>
</li>
<li><p><code>readFileToString</code>: 等同于 <code>readFile</code>, 但保证返回 <code>string</code>. 默认 UTF-8</p>
</li>
<li><p><code>readJSON</code>: 读取文件, 再作为 json 解析. 默认 UTF-8</p>
</li>
<li><p><code>writeFile</code></p>
</li>
<li><p><code>writeJSON</code>: 序列化 json 对象, 再写入文件. 默认 UTF-8, 4 个空格缩进</p>
</li>
<li><p><code>outputFile</code>: 等同于 <code>writeFile</code>, 但如果文件所在目录不存在, 自动创建</p>
</li>
<li><p><code>outputJSON</code>: 等同于 <code>writeJSON</code>, 但如果文件所在目录不存在, 自动创建</p>
</li>
<li><p><code>updateFileAsString</code></p>
<p>执行一个函数, 快捷地更新一个文件.</p>
<p>例如:</p>
<pre><code class="language-ts"><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">path</span><span class="hl-1">(</span><span class="hl-3">&#39;README.md&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-6">updateFileAsString</span><span class="hl-1">(</span><span class="hl-2">str</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">str</span><span class="hl-1">.</span><span class="hl-6">replace</span><span class="hl-1">(</span><span class="hl-10">/path/</span><span class="hl-4">g</span><span class="hl-1">, </span><span class="hl-3">&#39;path-nice&#39;</span><span class="hl-1">))</span>
</code></pre>
</li>
<li><p><code>updateJSON</code></p>
<p>执行一个函数, 快捷地更新一个 JSON 文件.</p>
<p>例如:</p>
<pre><code class="language-ts"><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">path</span><span class="hl-1">(</span><span class="hl-3">&#39;package.json&#39;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-6">updateJSON</span><span class="hl-1">(</span><span class="hl-2">json</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> { </span><span class="hl-2">json</span><span class="hl-1">.</span><span class="hl-2">version</span><span class="hl-1"> = </span><span class="hl-3">&#39;1.0.0&#39;</span><span class="hl-1"> })</span>
</code></pre>
</li>
<li><p><code>appendFile</code></p>
</li>
<li><p><code>createReadStream</code></p>
</li>
<li><p><code>createWriteStream</code></p>
</li>
<li><p><code>open</code></p>
</li>
</ul>

<a href="#copy-move-and-remove" id="copy-move-and-remove" style="color: inherit; text-decoration: none;">
  <h4>Copy, move and remove</h4>
</a>
<p>含有文件的目录也可直接复制, 移动, 删除. 支持跨设备移动文件.</p>
<ul>
<li><code>copy</code></li>
<li><code>move</code></li>
<li><code>remove</code></li>
<li><code>delete</code>: <code>remove</code> 的别名</li>
<li><code>rename</code></li>
<li><code>emptyDir</code>: 清空文件夹, 并保证文件夹存在</li>
</ul>

<a href="#ensure" id="ensure" style="color: inherit; text-decoration: none;">
  <h4>Ensure</h4>
</a>
<p>确保文件夹或文件存在, 如果不存在, 则自动创建.</p>
<ul>
<li><code>emptyDir</code>: 清空文件夹, 并保证文件夹存在</li>
<li><code>ensureDir</code></li>
<li><code>ensureFile</code></li>
</ul>

<a href="#is--" id="is--" style="color: inherit; text-decoration: none;">
  <h4>Is ... ?</h4>
</a>
<ul>
<li><code>isDir</code></li>
<li><code>isEmptyDir</code></li>
<li><code>isFile</code></li>
<li><code>isSymbolicLink</code></li>
<li><code>exists</code></li>
</ul>

<a href="#list-directory-contents" id="list-directory-contents" style="color: inherit; text-decoration: none;">
  <h4>List directory contents</h4>
</a>
<ul>
<li><code>ls</code>: 返回 <code>Promise&lt;{ dirs: PathNiceArr, files: PathNiceArr }&gt;</code>, 已经区分目录与文件, 均为绝对路径, 用起来更省心</li>
<li><code>readdir</code></li>
</ul>

<a href="#watch" id="watch" style="color: inherit; text-decoration: none;">
  <h4>Watch</h4>
</a>
<ul>
<li><code>watchWithChokidar</code>: 使用 npm 包 <code>chokidar</code> 来监视文件, API 更加友好和强大</li>
<li><code>watch</code></li>
<li><code>watchFile</code></li>
<li><code>unwatchFile</code></li>
</ul>

<a href="#file-info" id="file-info" style="color: inherit; text-decoration: none;">
  <h4>File info</h4>
</a>
<ul>
<li><code>fileSize</code>: 获取文件大小, 包括以 <code>B</code>, <code>KB</code>, <code>MB</code>, <code>GB</code> 等单位计量的大小</li>
<li><code>fileMode</code>: 获取文件 mode</li>
<li><code>fileOwner</code>: 获取文件 owner</li>
<li><code>chmod</code></li>
<li><code>chown</code></li>
<li><code>lchown</code></li>
<li><code>stat</code></li>
<li><code>lstat</code></li>
</ul>

<a href="#pathnicearr" id="pathnicearr" style="color: inherit; text-decoration: none;">
  <h3><code>PathNiceArr</code></h3>
</a>
<p>当提供给 <code>path()</code> 多个参数, 或一个数组时, 它将返回一个 <code>PathNiceArr</code>:</p>
<pre><code class="language-ts"><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">path</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-3">&#39;path-nice&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">let</span><span class="hl-1"> </span><span class="hl-2">arr</span><span class="hl-1"> = </span><span class="hl-6">path</span><span class="hl-1">(</span><span class="hl-3">&#39;./README.md&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;./package.json&#39;</span><span class="hl-1">, </span><span class="hl-3">&#39;./tsconfig.json&#39;</span><span class="hl-1">);</span>
</code></pre>
<p><code>class PathNiceArr</code> 是 <code>class Array</code> 的子类, 可以正常调用数组的方法:</p>
<pre><code class="language-ts"><span class="hl-2">arr</span><span class="hl-1"> = </span><span class="hl-2">arr</span><span class="hl-1">.</span><span class="hl-6">filter</span><span class="hl-1">(</span><span class="hl-2">f</span><span class="hl-1"> </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-2">f</span><span class="hl-1">.</span><span class="hl-6">ext</span><span class="hl-1">() === </span><span class="hl-3">&#39;.json&#39;</span><span class="hl-1">)</span><br/><span class="hl-8">// PathNiceArr [</span><br/><span class="hl-8">//     PathNice { raw: &#39;./package.json&#39; },</span><br/><span class="hl-8">//     PathNice { raw: &#39;./tsconfig.json&#39; },</span><br/><span class="hl-8">// ]</span>
</code></pre>
<p>它还添加了一些额外的方法, 以便整体性地操作文件:</p>
<pre><code class="language-ts"><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">arr</span><span class="hl-1">.</span><span class="hl-6">copyToDir</span><span class="hl-1">(</span><span class="hl-3">&#39;./json-config&#39;</span><span class="hl-1">);       </span><span class="hl-8">// arr 中的每个文件都被复制到 json-config 目录下</span>
</code></pre>
<p>如果设置了 <code>arr.base</code>, 则在复制或移动文件时, 文件将相对于 <code>base</code> 保持目录结构. 未设置时, 文件的复制或移动
是逐个进行的. 例如:</p>
<pre><code class="language-ts"><span class="hl-8">/*</span><br/><span class="hl-8">假设 cwd = /work, ./src 中有如下文件:</span><br/><span class="hl-8">   ./src</span><br/><span class="hl-8">    ├── lib/</span><br/><span class="hl-8">    │   ├── jquery.js</span><br/><span class="hl-8">    │   └── types.ts</span><br/><span class="hl-8">    └── index.ts</span><br/><span class="hl-8">*/</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> { </span><span class="hl-5">dirs</span><span class="hl-1">, </span><span class="hl-5">files</span><span class="hl-1"> } = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">path</span><span class="hl-1">(</span><span class="hl-3">&#39;./src&#39;</span><span class="hl-1">).</span><span class="hl-6">ls</span><span class="hl-1">(</span><span class="hl-8">/* recursive */</span><span class="hl-1"> </span><span class="hl-4">true</span><span class="hl-1">);</span><br/><br/><span class="hl-2">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-2">files</span><span class="hl-1">);</span><br/><span class="hl-8">// PathNiceArr(3) [</span><br/><span class="hl-8">//     PathNice { raw: &#39;/work/src/index.ts&#39; },</span><br/><span class="hl-8">//     PathNice { raw: &#39;/work/src/lib/jquery.js&#39; },</span><br/><span class="hl-8">//     PathNice { raw: &#39;/work/src/lib/types.ts&#39; },</span><br/><span class="hl-8">//     base: PathNice { raw: &#39;/work/src&#39; }</span><br/><span class="hl-8">// ]</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">files</span><span class="hl-1">.</span><span class="hl-6">copyToDir</span><span class="hl-1">(</span><span class="hl-3">&#39;dist&#39;</span><span class="hl-1">);</span><br/><span class="hl-8">/*</span><br/><span class="hl-8">此时 dist 的目录结构:</span><br/><span class="hl-8">   ./dist</span><br/><span class="hl-8">    ├── lib/</span><br/><span class="hl-8">    │   ├── jquery.js</span><br/><span class="hl-8">    │   └── types.ts</span><br/><span class="hl-8">    └── index.ts</span><br/><span class="hl-8">*/</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-6">path</span><span class="hl-1">(</span><span class="hl-3">&#39;dist&#39;</span><span class="hl-1">).</span><span class="hl-6">emptyDir</span><span class="hl-1">();  </span><span class="hl-8">// 清空 dist 文件夹</span><br/><span class="hl-2">files</span><span class="hl-1">.</span><span class="hl-2">base</span><span class="hl-1"> = </span><span class="hl-4">undefined</span><span class="hl-1">;         </span><span class="hl-8">// 清除 base</span><br/><br/><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-2">files</span><span class="hl-1">.</span><span class="hl-6">copyToDir</span><span class="hl-1">(</span><span class="hl-3">&#39;dist&#39;</span><span class="hl-1">);</span><br/><span class="hl-8">/*</span><br/><span class="hl-8">此时 dist 的目录结构:</span><br/><span class="hl-8">   ./dist</span><br/><span class="hl-8">    ├── jquery.js</span><br/><span class="hl-8">    ├── types.ts</span><br/><span class="hl-8">    └── index.ts</span><br/><span class="hl-8">*/</span>
</code></pre>
<p><code>PathNiceArr</code> 的详细用法, 参见 <a href="https://fuuuoverclocking.github.io/path-nice/interfaces/PathNiceArr.html">PathNiceArr 文档</a>.</p>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">path-<wbr/>nice -<wbr/> v2.0.6</a>
<ul>
<li class="tsd-kind-namespace"><a href="modules/default.html">default</a></li></ul></li></ul></div></details></nav>
<nav class="tsd-navigation secondary menu-sticky">
<ul>
<li class="tsd-kind-interface tsd-is-external"><a href="interfaces/FormatInputPathObject.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-interface)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-256-path"></rect><path d="M9.51 16V15.016H11.298V8.224H9.51V7.24H14.19V8.224H12.402V15.016H14.19V16H9.51Z" fill="var(--color-text)" id="icon-256-text"></path></svg>Format<wbr/>Input<wbr/>Path<wbr/>Object</a></li>
<li class="tsd-kind-interface tsd-is-external"><a href="interfaces/ParsedPath.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Parsed<wbr/>Path</a></li>
<li class="tsd-kind-interface"><a href="interfaces/ParsedPathNice.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Parsed<wbr/>Path<wbr/>Nice</a></li>
<li class="tsd-kind-interface"><a href="interfaces/PathNice.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Path<wbr/>Nice</a></li>
<li class="tsd-kind-interface"><a href="interfaces/PathNiceArr.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Path<wbr/>Nice<wbr/>Arr</a></li>
<li class="tsd-kind-interface tsd-is-external"><a href="interfaces/PlatformPath.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Platform<wbr/>Path</a></li>
<li class="tsd-kind-type-alias"><a href="types/FileSystem.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-4194304-path"></rect><path d="M11.31 16V8.224H8.91V7.24H14.79V8.224H12.39V16H11.31Z" fill="var(--color-text)" id="icon-4194304-text"></path></svg>File<wbr/>System</a></li>
<li class="tsd-kind-variable"><a href="variables/delimiter.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-variable)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-32-path"></rect><path d="M11.106 16L8.85 7.24H9.966L11.454 13.192C11.558 13.608 11.646 13.996 11.718 14.356C11.79 14.708 11.842 14.976 11.874 15.16C11.906 14.976 11.954 14.708 12.018 14.356C12.09 13.996 12.178 13.608 12.282 13.192L13.758 7.24H14.85L12.582 16H11.106Z" fill="var(--color-text)" id="icon-32-text"></path></svg>delimiter</a></li>
<li class="tsd-kind-variable"><a href="variables/sep.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-32-path"></use><use href="#icon-32-text"></use></svg>sep</a></li>
<li class="tsd-kind-function"><a href="functions/basename.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-function)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-64-path"></rect><path d="M9.39 16V7.24H14.55V8.224H10.446V11.128H14.238V12.112H10.47V16H9.39Z" fill="var(--color-text)" id="icon-64-text"></path></svg>basename</a></li>
<li class="tsd-kind-function"><a href="functions/bindFS.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>bindFS</a></li>
<li class="tsd-kind-function"><a href="functions/default-1.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>default</a></li>
<li class="tsd-kind-function"><a href="functions/dirname.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>dirname</a></li>
<li class="tsd-kind-function"><a href="functions/extname.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>extname</a></li>
<li class="tsd-kind-function"><a href="functions/format.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>format</a></li>
<li class="tsd-kind-function"><a href="functions/isAbsolute.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>is<wbr/>Absolute</a></li>
<li class="tsd-kind-function"><a href="functions/join.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>join</a></li>
<li class="tsd-kind-function"><a href="functions/normalize.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>normalize</a></li>
<li class="tsd-kind-function"><a href="functions/parse.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>parse</a></li>
<li class="tsd-kind-function"><a href="functions/posix.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>posix</a></li>
<li class="tsd-kind-function"><a href="functions/relative.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>relative</a></li>
<li class="tsd-kind-function"><a href="functions/resolve.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>resolve</a></li>
<li class="tsd-kind-function"><a href="functions/toNamespacedPath.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>to<wbr/>Namespaced<wbr/>Path</a></li>
<li class="tsd-kind-function"><a href="functions/win32.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>win32</a></li></ul></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>